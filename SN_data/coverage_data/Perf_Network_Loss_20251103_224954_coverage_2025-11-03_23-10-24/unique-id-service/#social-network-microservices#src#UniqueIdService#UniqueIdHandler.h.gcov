        -:    0:Source:/social-network-microservices/src/UniqueIdService/UniqueIdHandler.h
        -:    0:Graph:/social-network-microservices/build/src/UniqueIdService/CMakeFiles/UniqueIdService.dir/UniqueIdService.cpp.gcno
        -:    0:Data:/social-network-microservices/build/src/UniqueIdService/CMakeFiles/UniqueIdService.dir/UniqueIdService.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#ifndef SOCIAL_NETWORK_MICROSERVICES_UNIQUEIDHANDLER_H
        -:    2:#define SOCIAL_NETWORK_MICROSERVICES_UNIQUEIDHANDLER_H
        -:    3:
        -:    4:#include <chrono>
        -:    5:#include <iomanip>
        -:    6:#include <iostream>
        -:    7:#include <mutex>
        -:    8:#include <sstream>
        -:    9:#include <string>
        -:   10:
        -:   11:#include "../../gen-cpp/UniqueIdService.h"
        -:   12:#include "../../gen-cpp/social_network_types.h"
        -:   13:#include "../logger.h"
        -:   14:#include "../tracing.h"
        -:   15:
        -:   16:// Custom Epoch (January 1, 2018 Midnight GMT = 2018-01-01T00:00:00Z)
        -:   17:#define CUSTOM_EPOCH 1514764800000
        -:   18:
        -:   19:namespace social_network {
        -:   20:
        -:   21:using std::chrono::duration_cast;
        -:   22:using std::chrono::milliseconds;
        -:   23:using std::chrono::system_clock;
        -:   24:
        -:   25:static int64_t current_timestamp = -1;
        -:   26:static int counter = 0;
        -:   27:
function _ZN14social_networkL10GetCounterEl called 200 returned 100% blocks executed 13%
      200:   28:static int GetCounter(int64_t timestamp) {
      200:   29:  if (current_timestamp > timestamp) {
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   30:    LOG(fatal) << "Timestamps are not incremental.";
call    0 never executed
branch  1 never executed
branch  2 never executed
call    3 never executed
branch  4 never executed
branch  5 never executed
call    6 never executed
branch  7 never executed
branch  8 never executed
call    9 never executed
branch 10 never executed
branch 11 never executed
call   12 never executed
branch 13 never executed
branch 14 never executed
call   15 never executed
call   16 never executed
branch 17 never executed
branch 18 never executed
call   19 never executed
call   20 never executed
branch 21 never executed
branch 22 never executed
call   23 never executed
branch 24 never executed
branch 25 never executed
call   26 never executed
branch 27 never executed
branch 28 never executed
call   29 never executed
branch 30 never executed
branch 31 never executed
call   32 never executed
branch 33 never executed
branch 34 never executed
call   35 never executed
branch 36 never executed
branch 37 never executed
call   38 never executed
branch 39 never executed
branch 40 never executed
call   41 never executed
branch 42 never executed
branch 43 never executed
call   44 never executed
branch 45 never executed
branch 46 never executed
call   47 never executed
call   48 never executed
call   49 never executed
    #####:   31:    exit(EXIT_FAILURE);
call    0 never executed
        -:   32:  }
      200:   33:  if (current_timestamp == timestamp) {
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   34:    return counter++;
        -:   35:  } else {
      200:   36:    current_timestamp = timestamp;
      200:   37:    counter = 0;
      200:   38:    return counter++;
        -:   39:  }
        -:   40:}
        -:   41:
        -:   42:class UniqueIdHandler : public UniqueIdServiceIf {
        -:   43: public:
function _ZN14social_network15UniqueIdHandlerD0Ev called 0 returned 0% blocks executed 0%
function _ZN14social_network15UniqueIdHandlerD2Ev called 0 returned 0% blocks executed 0%
    #####:   44:  ~UniqueIdHandler() override = default;
call    0 never executed
call    1 never executed
call    2 never executed
call    3 never executed
branch  4 never executed
branch  5 never executed
call    6 never executed
        -:   45:  UniqueIdHandler(std::mutex *, const std::string &);
        -:   46:
        -:   47:  int64_t ComposeUniqueId(int64_t, PostType::type,
        -:   48:                          const std::map<std::string, std::string> &) override;
        -:   49:
        -:   50: private:
        -:   51:  std::mutex *_thread_lock;
        -:   52:  std::string _machine_id;
        -:   53:};
        -:   54:
function _ZN14social_network15UniqueIdHandlerC2EPSt5mutexRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 1 returned 100% blocks executed 63%
        1:   55:UniqueIdHandler::UniqueIdHandler(std::mutex *thread_lock,
        1:   56:                                 const std::string &machine_id) {
call    0 returned 100%
call    1 returned 100%
call    2 never executed
call    3 never executed
        1:   57:  _thread_lock = thread_lock;
        1:   58:  _machine_id = machine_id;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
        1:   59:}
        -:   60:
function _ZN14social_network15UniqueIdHandler15ComposeUniqueIdElNS_8PostType4typeERKSt3mapINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES9_St4lessIS9_ESaISt4pairIKS9_S9_EEE called 200 returned 100% blocks executed 60%
      200:   61:int64_t UniqueIdHandler::ComposeUniqueId(
        -:   62:    int64_t req_id, PostType::type post_type,
        -:   63:    const std::map<std::string, std::string> &carrier) {
        -:   64:  // 新增：记录收到的 ComposeUniqueId 请求
      400:   65:  LOG(info) << "Received ComposeUniqueId request [req_id=" << req_id << ", post_type=" << post_type << "]";
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0% (throw)
call    9 returned 100%
branch 10 taken 50% (fallthrough)
branch 11 taken 50%
call   12 returned 100%
branch 13 taken 100% (fallthrough)
branch 14 taken 0%
call   15 returned 100%
call   16 returned 100%
branch 17 taken 100% (fallthrough)
branch 18 taken 0% (throw)
call   19 returned 100%
call   20 returned 100%
branch 21 taken 100% (fallthrough)
branch 22 taken 0% (throw)
call   23 returned 100%
branch 24 taken 100% (fallthrough)
branch 25 taken 0% (throw)
call   26 returned 100%
branch 27 taken 100% (fallthrough)
branch 28 taken 0% (throw)
call   29 returned 100%
branch 30 taken 100% (fallthrough)
branch 31 taken 0% (throw)
call   32 returned 100%
branch 33 taken 100% (fallthrough)
branch 34 taken 0% (throw)
call   35 returned 100%
branch 36 taken 100% (fallthrough)
branch 37 taken 0% (throw)
call   38 returned 100%
branch 39 taken 100% (fallthrough)
branch 40 taken 0% (throw)
call   41 returned 100%
branch 42 taken 100% (fallthrough)
branch 43 taken 0% (throw)
call   44 returned 100%
branch 45 taken 100% (fallthrough)
branch 46 taken 0% (throw)
call   47 returned 100%
branch 48 taken 100% (fallthrough)
branch 49 taken 0% (throw)
call   50 returned 100%
branch 51 taken 100% (fallthrough)
branch 52 taken 0% (throw)
call   53 returned 100%
branch 54 taken 100% (fallthrough)
branch 55 taken 0% (throw)
call   56 returned 100%
branch 57 taken 100% (fallthrough)
branch 58 taken 0% (throw)
call   59 returned 100%
call   60 never executed
call   61 never executed
call   62 never executed
        -:   66:
        -:   67:  // Initialize a span
      400:   68:  TextMapReader reader(carrier);
call    0 returned 100%
call    1 returned 100%
call    2 never executed
      400:   69:  std::map<std::string, std::string> writer_text_map;
call    0 returned 100%
call    1 returned 100%
call    2 never executed
      400:   70:  TextMapWriter writer(writer_text_map);
call    0 returned 100%
call    1 returned 100%
call    2 never executed
      400:   71:  auto parent_span = opentracing::Tracer::Global()->Extract(reader);
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
branch  3 taken 100% (fallthrough)
branch  4 taken 0% (throw)
call    5 returned 100%
call    6 returned 100%
call    7 never executed
      400:   72:  auto span = opentracing::Tracer::Global()->StartSpan(
call    0 returned 100%
      800:   73:      "compose_unique_id_server", {opentracing::ChildOf(parent_span->get())});
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
call    4 returned 100%
call    5 returned 100%
call    6 returned 100%
call    7 returned 100%
call    8 returned 100%
call    9 returned 100%
call   10 returned 100%
call   11 returned 100%
call   12 never executed
      200:   74:  opentracing::Tracer::Global()->Inject(span->context(), writer);
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
call    3 returned 100%
call    4 returned 100%
branch  5 taken 100% (fallthrough)
branch  6 taken 0% (throw)
call    7 returned 100%
call    8 returned 100%
call    9 never executed
        -:   75:
      200:   76:  _thread_lock->lock();
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
        -:   77:  int64_t timestamp =
      400:   78:      duration_cast<milliseconds>(system_clock::now().time_since_epoch())
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
      200:   79:          .count() -
call    0 returned 100%
      200:   80:      CUSTOM_EPOCH;
      200:   81:  int idx = GetCounter(timestamp);
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
      200:   82:  _thread_lock->unlock();
call    0 returned 100%
        -:   83:
        -:   84:  // 新增：记录时间戳和计数器
      400:   85:  LOG(info) << "ComposeUniqueId timestamp and counter [req_id=" << req_id << ", timestamp=" << timestamp << ", counter=" << idx << "]";
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0% (throw)
call    9 returned 100%
branch 10 taken 50% (fallthrough)
branch 11 taken 50%
call   12 returned 100%
branch 13 taken 100% (fallthrough)
branch 14 taken 0%
call   15 returned 100%
call   16 returned 100%
branch 17 taken 100% (fallthrough)
branch 18 taken 0% (throw)
call   19 returned 100%
call   20 returned 100%
branch 21 taken 100% (fallthrough)
branch 22 taken 0% (throw)
call   23 returned 100%
branch 24 taken 100% (fallthrough)
branch 25 taken 0% (throw)
call   26 returned 100%
branch 27 taken 100% (fallthrough)
branch 28 taken 0% (throw)
call   29 returned 100%
branch 30 taken 100% (fallthrough)
branch 31 taken 0% (throw)
call   32 returned 100%
branch 33 taken 100% (fallthrough)
branch 34 taken 0% (throw)
call   35 returned 100%
branch 36 taken 100% (fallthrough)
branch 37 taken 0% (throw)
call   38 returned 100%
branch 39 taken 100% (fallthrough)
branch 40 taken 0% (throw)
call   41 returned 100%
branch 42 taken 100% (fallthrough)
branch 43 taken 0% (throw)
call   44 returned 100%
branch 45 taken 100% (fallthrough)
branch 46 taken 0% (throw)
call   47 returned 100%
branch 48 taken 100% (fallthrough)
branch 49 taken 0% (throw)
call   50 returned 100%
branch 51 taken 100% (fallthrough)
branch 52 taken 0% (throw)
call   53 returned 100%
branch 54 taken 100% (fallthrough)
branch 55 taken 0% (throw)
call   56 returned 100%
branch 57 taken 100% (fallthrough)
branch 58 taken 0% (throw)
call   59 returned 100%
branch 60 taken 100% (fallthrough)
branch 61 taken 0% (throw)
call   62 returned 100%
branch 63 taken 100% (fallthrough)
branch 64 taken 0% (throw)
call   65 returned 100%
call   66 never executed
call   67 never executed
        -:   86:
      400:   87:  std::stringstream sstream;
call    0 returned 100%
call    1 returned 100%
branch  2 taken 100% (fallthrough)
branch  3 taken 0% (throw)
call    4 returned 100%
call    5 never executed
      200:   88:  sstream << std::hex << timestamp;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
      400:   89:  std::string timestamp_hex(sstream.str());
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
call    4 never executed
        -:   90:
      200:   91:  if (timestamp_hex.size() > 10) {
call    0 returned 100%
branch  1 taken 0% (fallthrough)
branch  2 taken 100%
    #####:   92:    timestamp_hex.erase(0, timestamp_hex.size() - 10);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
      200:   93:  } else if (timestamp_hex.size() < 10) {
call    0 returned 100%
branch  1 taken 0% (fallthrough)
branch  2 taken 100%
    #####:   94:    timestamp_hex = std::string(10 - timestamp_hex.size(), '0') + timestamp_hex;
call    0 never executed
call    1 never executed
call    2 never executed
branch  3 never executed
branch  4 never executed
call    5 never executed
branch  6 never executed
branch  7 never executed
call    8 never executed
branch  9 never executed
branch 10 never executed
call   11 never executed
call   12 never executed
call   13 never executed
call   14 never executed
call   15 never executed
call   16 never executed
        -:   95:  }
        -:   96:
        -:   97:  // Empty the sstream buffer.
      200:   98:  sstream.clear();
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
      200:   99:  sstream.str(std::string());
call    0 returned 100%
call    1 returned 100%
branch  2 taken 100% (fallthrough)
branch  3 taken 0% (throw)
call    4 returned 100%
call    5 never executed
        -:  100:
      200:  101:  sstream << std::hex << idx;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
      400:  102:  std::string counter_hex(sstream.str());
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
call    4 never executed
        -:  103:
      200:  104:  if (counter_hex.size() > 3) {
call    0 returned 100%
branch  1 taken 0% (fallthrough)
branch  2 taken 100%
    #####:  105:    counter_hex.erase(0, counter_hex.size() - 3);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
      200:  106:  } else if (counter_hex.size() < 3) {
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0%
      200:  107:    counter_hex = std::string(3 - counter_hex.size(), '0') + counter_hex;
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
branch  3 taken 100% (fallthrough)
branch  4 taken 0% (throw)
call    5 returned 100%
branch  6 taken 100% (fallthrough)
branch  7 taken 0% (throw)
call    8 returned 100%
branch  9 taken 100% (fallthrough)
branch 10 taken 0% (throw)
call   11 returned 100%
call   12 returned 100%
call   13 returned 100%
call   14 never executed
call   15 never executed
call   16 never executed
call   17 never executed
        -:  108:  }
      400:  109:  std::string post_id_str = _machine_id + timestamp_hex + counter_hex;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
call    7 returned 100%
call    8 never executed
      200:  110:  int64_t post_id = stoul(post_id_str, nullptr, 16) & 0x7FFFFFFFFFFFFFFF;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
      200:  111:  LOG(debug) << "The post_id of the request " << req_id << " is " << post_id;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0% (throw)
call    9 returned 100%
branch 10 taken 0% (fallthrough)
branch 11 taken 100%
call   12 never executed
branch 13 never executed
branch 14 never executed
call   15 never executed
call   16 never executed
branch 17 never executed
branch 18 never executed
call   19 never executed
call   20 never executed
branch 21 never executed
branch 22 never executed
call   23 never executed
branch 24 never executed
branch 25 never executed
call   26 never executed
branch 27 never executed
branch 28 never executed
call   29 never executed
branch 30 never executed
branch 31 never executed
call   32 never executed
branch 33 never executed
branch 34 never executed
call   35 never executed
branch 36 never executed
branch 37 never executed
call   38 never executed
branch 39 never executed
branch 40 never executed
call   41 never executed
branch 42 never executed
branch 43 never executed
call   44 never executed
branch 45 never executed
branch 46 never executed
call   47 never executed
branch 48 never executed
branch 49 never executed
call   50 never executed
branch 51 never executed
branch 52 never executed
call   53 never executed
branch 54 never executed
branch 55 never executed
call   56 returned 100%
call   57 never executed
call   58 never executed
        -:  112:
      200:  113:  span->Finish();
call    0 returned 100%
call    1 returned 100%
      400:  114:  return post_id;
        -:  115:}
        -:  116:
        -:  117:/*
        -:  118: * The following code which obtaines machine ID from machine's MAC address was
        -:  119: * inspired from https://stackoverflow.com/a/16859693.
        -:  120: *
        -:  121: * MAC address is obtained from /sys/class/net/<netif>/address
        -:  122: */
function _ZN14social_network17HashMacAddressPidERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 1 returned 100% blocks executed 87%
        1:  123:u_int16_t HashMacAddressPid(const std::string &mac) {
        1:  124:  u_int16_t hash = 0;
        2:  125:  std::string mac_pid = mac + std::to_string(getpid());
call    0 returned 100%
call    1 returned 100%
branch  2 taken 100% (fallthrough)
branch  3 taken 0% (throw)
call    4 returned 100%
branch  5 taken 100% (fallthrough)
branch  6 taken 0% (throw)
call    7 returned 100%
call    8 returned 100%
       19:  126:  for (unsigned int i = 0; i < mac_pid.size(); i++) {
call    0 returned 100%
branch  1 taken 95% (fallthrough)
branch  2 taken 5%
       18:  127:    hash += (mac[i] << ((i & 1) * 8));
call    0 returned 100%
        -:  128:  }
        2:  129:  return hash;
call    0 never executed
        -:  130:}
        -:  131:
function _ZN14social_network12GetMachineIdERNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 1 returned 100% blocks executed 34%
        1:  132:std::string GetMachineId(std::string &netif) {
        2:  133:  std::string mac_hash;
call    0 returned 100%
call    1 returned 100%
call    2 never executed
call    3 never executed
        -:  134:
        2:  135:  std::string mac_addr_filename = "/sys/class/net/" + netif + "/address";
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
call    7 returned 100%
call    8 never executed
        2:  136:  std::ifstream mac_addr_file;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
call    4 never executed
        1:  137:  mac_addr_file.open(mac_addr_filename);
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
        1:  138:  if (!mac_addr_file) {
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
branch  3 taken 0% (fallthrough)
branch  4 taken 100%
    #####:  139:    LOG(fatal) << "Cannot read MAC address from net interface " << netif;
call    0 never executed
branch  1 never executed
branch  2 never executed
call    3 never executed
branch  4 never executed
branch  5 never executed
call    6 never executed
branch  7 never executed
branch  8 never executed
call    9 never executed
branch 10 never executed
branch 11 never executed
call   12 never executed
branch 13 never executed
branch 14 never executed
call   15 never executed
call   16 never executed
branch 17 never executed
branch 18 never executed
call   19 never executed
call   20 never executed
branch 21 never executed
branch 22 never executed
call   23 never executed
branch 24 never executed
branch 25 never executed
call   26 never executed
branch 27 never executed
branch 28 never executed
call   29 never executed
branch 30 never executed
branch 31 never executed
call   32 never executed
branch 33 never executed
branch 34 never executed
call   35 never executed
branch 36 never executed
branch 37 never executed
call   38 never executed
branch 39 never executed
branch 40 never executed
call   41 never executed
branch 42 never executed
branch 43 never executed
call   44 never executed
branch 45 never executed
branch 46 never executed
call   47 never executed
branch 48 never executed
branch 49 never executed
call   50 never executed
call   51 never executed
call   52 never executed
    #####:  140:    return "";
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
call    5 never executed
        -:  141:  }
        2:  142:  std::string mac;
call    0 returned 100%
call    1 returned 100%
call    2 never executed
        1:  143:  mac_addr_file >> mac;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
        1:  144:  if (mac == "") {
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
branch  3 taken 0% (fallthrough)
branch  4 taken 100%
    #####:  145:    LOG(fatal) << "Cannot read MAC address from net interface " << netif;
call    0 never executed
branch  1 never executed
branch  2 never executed
call    3 never executed
branch  4 never executed
branch  5 never executed
call    6 never executed
branch  7 never executed
branch  8 never executed
call    9 never executed
branch 10 never executed
branch 11 never executed
call   12 never executed
branch 13 never executed
branch 14 never executed
call   15 never executed
call   16 never executed
branch 17 never executed
branch 18 never executed
call   19 never executed
call   20 never executed
branch 21 never executed
branch 22 never executed
call   23 never executed
branch 24 never executed
branch 25 never executed
call   26 never executed
branch 27 never executed
branch 28 never executed
call   29 never executed
branch 30 never executed
branch 31 never executed
call   32 never executed
branch 33 never executed
branch 34 never executed
call   35 never executed
branch 36 never executed
branch 37 never executed
call   38 never executed
branch 39 never executed
branch 40 never executed
call   41 never executed
branch 42 never executed
branch 43 never executed
call   44 never executed
branch 45 never executed
branch 46 never executed
call   47 never executed
branch 48 never executed
branch 49 never executed
call   50 never executed
call   51 never executed
call   52 never executed
    #####:  146:    return "";
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
call    5 never executed
        -:  147:  }
        1:  148:  mac_addr_file.close();
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
        -:  149:
        2:  150:  LOG(info) << "MAC address = " << mac;
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0% (throw)
call    9 returned 100%
branch 10 taken 50% (fallthrough)
branch 11 taken 50%
call   12 returned 100%
branch 13 taken 100% (fallthrough)
branch 14 taken 0%
call   15 returned 100%
call   16 returned 100%
branch 17 taken 100% (fallthrough)
branch 18 taken 0% (throw)
call   19 returned 100%
call   20 returned 100%
branch 21 taken 100% (fallthrough)
branch 22 taken 0% (throw)
call   23 returned 100%
branch 24 taken 100% (fallthrough)
branch 25 taken 0% (throw)
call   26 returned 100%
branch 27 taken 100% (fallthrough)
branch 28 taken 0% (throw)
call   29 returned 100%
branch 30 taken 100% (fallthrough)
branch 31 taken 0% (throw)
call   32 returned 100%
branch 33 taken 100% (fallthrough)
branch 34 taken 0% (throw)
call   35 returned 100%
branch 36 taken 100% (fallthrough)
branch 37 taken 0% (throw)
call   38 returned 100%
branch 39 taken 100% (fallthrough)
branch 40 taken 0% (throw)
call   41 returned 100%
branch 42 taken 100% (fallthrough)
branch 43 taken 0% (throw)
call   44 returned 100%
branch 45 taken 100% (fallthrough)
branch 46 taken 0% (throw)
call   47 returned 100%
branch 48 taken 100% (fallthrough)
branch 49 taken 0% (throw)
call   50 returned 100%
call   51 never executed
call   52 never executed
        -:  151:
        2:  152:  std::stringstream stream;
call    0 returned 100%
call    1 returned 100%
branch  2 taken 100% (fallthrough)
branch  3 taken 0% (throw)
call    4 returned 100%
call    5 never executed
        1:  153:  stream << std::hex << HashMacAddressPid(mac);
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0% (throw)
        1:  154:  mac_hash = stream.str();
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0% (throw)
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0% (throw)
call    6 returned 100%
call    7 never executed
        -:  155:
        1:  156:  if (mac_hash.size() > 3) {
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0%
        1:  157:    mac_hash.erase(0, mac_hash.size() - 3);
call    0 returned 100%
call    1 returned 100%
branch  2 taken 100% (fallthrough)
branch  3 taken 0% (throw)
    #####:  158:  } else if (mac_hash.size() < 3) {
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:  159:    mac_hash = std::string(3 - mac_hash.size(), '0') + mac_hash;
call    0 never executed
call    1 never executed
call    2 never executed
branch  3 never executed
branch  4 never executed
call    5 never executed
branch  6 never executed
branch  7 never executed
call    8 never executed
branch  9 never executed
branch 10 never executed
call   11 never executed
call   12 never executed
call   13 never executed
call   14 never executed
call   15 never executed
call   16 never executed
        -:  160:  }
        1:  161:  return mac_hash;
call    0 returned 100%
        -:  162:}
        -:  163:
        -:  164:}  // namespace social_network
        -:  165:
        -:  166:#endif  // SOCIAL_NETWORK_MICROSERVICES_UNIQUEIDHANDLER_H
